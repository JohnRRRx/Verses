<header>
  <nav class="bg-gray-900 w-full z-20 fixed top-0 h-16">
    <div class="w-full h-full flex flex-nowrap items-center justify-between mx-auto p-4">

      <%= link_to root_path, class: "flex items-center space-x-3 rtl:space-x-reverse h-full" do %>
        <span class="self-center text-2xl font-semibold whitespace-nowrap text-white"><%= t('header.title') %></span>
      <% end %>

      <div class="flex items-center justify-between w-full h-full md:flex md:w-auto" id="navbar-sticky">
        <ul class="flex flex-row items-center space-x-6 md:p-0 font-semibold ml-auto h-full">
          <details class="relative">
            <summary class="text-white flex items-center space-x-2 h-full">
              <img src="<%= asset_path('search.png') %>" class="w-6 h-6 sm:w-5 sm:h-5" id="search-icon">
              <span class="hidden sm:inline ml-2"><%= t('header.search') %></span>
            </summary>
            <div class="fixed left-1/2 transform -translate-x-1/2 top-16 mt-1 w-auto min-w-max whitespace-nowrap bg-gray-900 text-white rounded-md shadow-md p-2 z-10 transition-opacity duration-300">
              <%= render 'shared/search_form' %>
            </div>
          </details>
          <li>
            <%= link_to posts_path, class: "text-white flex items-center space-x-2 h-full" do %>
              <img src="<%= asset_path('index.png') %>" class="w-6 h-6 sm:w-5 sm:h-5">
              <span class="hidden sm:inline"><%= t('header.index') %></span>
            <% end %>
          </li>
          <li>
            <%= link_to new_post_path, class: "text-white flex items-center space-x-2 h-full" do %>
            <img src="<%= asset_path('new.png') %>" class="w-6 h-6 sm:w-5 sm:h-5">
            <span class="hidden sm:inline"><%= t('header.new_post') %></span>
            <% end %>
          </li>
          <li>
            <details class="relative inline-block">
              <summary class="cursor-pointer flex items-center bg-gray-900 font-semibold text-white rounded-md w-6 h-6">
              <i class="fa-solid fa-bars text-xl"></i>
              </summary>
              <div class="absolute top-full mt-6 right-0 w-auto min-w-full whitespace-nowrap bg-gray-900 text-white rounded-md shadow-md p-2 z-10 transition-opacity duration-300  pr-4">
                <ul class="flex flex-col">
                  <li>
                    <%= link_to likes_posts_path, class: "text-white mr-6 flex items-center hover:bg-gray-500 space-x-2 my-2 rounded-md w-full" do %>
                      <img src="<%= asset_path('like.png') %>" class="w-5 h-5" /><span><%= t('header.like_index') %></span>
                    <% end %>
                  </li>
                  <li>
                    <%= link_to mine_posts_path, class: "text-white flex items-center hover:bg-gray-500 space-x-2 my-2 rounded-md w-full" do %>
                      <img src="<%= asset_path('mypost.png') %>" class="w-5 h-5" /><span class="ml-6"><%= t('header.my_posts') %></span>
                    <% end %>
                  </li>

                  <li>
                    <%= link_to profile_path, class: "text-white mr-5 flex items-center hover:bg-gray-500 space-x-2 my-2 rounded-md w-full" do %>
                      <img src="<%= asset_path('profile.png') %>" class="w-6 h-6" /><span><%= t('header.profile') %></span>
                    <% end %>
                  </li>

                  <li>
                    <%= link_to logout_path, data: { turbo_method: :delete }, class: "text-white mr-6 flex items-center hover:bg-gray-500 space-x-2 my-2 rounded-md w-full" do %>
                      <img src="<%= asset_path('logout.png') %>" class="w-6 h-5" /></i> <span><%= t('header.logout') %></span>
                    <% end %>
                  </li>
                </ul>
              </div>
            </details>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
<div class="flash fixed top-16 left-1/2 transform -translate-x-1/2 z-30 text-nowrap">
  <%= render 'layouts/flash_messages' %>
</div>
<%= javascript_include_tag "flash" %>